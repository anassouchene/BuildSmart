import{r,u as E,j as e}from"./index-Dtz4I_N3.js";import{a as B,B as I}from"./config-CrOwxi8G.js";import{b as k,c as n,a as G}from"./index.es-B1USpQq9.js";import{S as a}from"./sweetalert2.all-rCSAqTKa.js";import{C as d,a as i,b as t,c as o,d as l}from"./CRow-wmwwCsaU.js";import{C as T,a as V,b as F,c as f}from"./cil-lock-locked-BLn4mD_7.js";import{c as v}from"./cil-user-Ddrdy7PS.js";var O=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M449.366,89.648l-.685-.428L362.088,46.559,268.625,171.176l43,57.337a88.529,88.529,0,0,1-83.115,83.114l-57.336-43L46.558,362.088l42.306,85.869.356.725.429.684a25.085,25.085,0,0,0,21.393,11.857h22.344A327.836,327.836,0,0,0,461.222,133.386V111.041A25.084,25.084,0,0,0,449.366,89.648Zm-20.144,43.738c0,163.125-132.712,295.837-295.836,295.837h-18.08L87,371.76l84.18-63.135,46.867,35.149h5.333a120.535,120.535,0,0,0,120.4-120.4v-5.333l-35.149-46.866L371.759,87l57.463,28.311Z' class='ci-primary'/>"];const q=()=>{const[m,w]=r.useState(""),[h,y]=r.useState(""),[u,N]=r.useState(""),[x,b]=r.useState(""),[p,S]=r.useState(""),[j,L]=r.useState(""),P=E(),R=async s=>{var C,g;s.preventDefault();const A={nom:m,prenom:h,telephone:u,gmail:x,password:p,confirmPassword:j};try{a.fire({title:"Votre demande est en cours",text:"Veuillez patienter...",allowOutsideClick:!1,didOpen:()=>{a.showLoading()}});const c=await B.post(`${I}Account/register`,A);a.close(),c.status===200?a.fire({icon:"success",title:"Account created successfully!",showConfirmButton:!1,timer:1500}).then(()=>{P("/login")}):a.fire({icon:"error",title:"Error",text:c.data.message})}catch(c){a.close(),a.fire({icon:"error",title:"Error",text:((g=(C=c.response)==null?void 0:C.data)==null?void 0:g.message)||c.message})}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(k,{fluid:!0,children:e.jsx(d,{className:"justify-content-center",children:e.jsx(i,{md:9,lg:7,xl:6,children:e.jsx(T,{className:"mx-4",children:e.jsx(V,{className:"p-4",children:e.jsxs(F,{onSubmit:R,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsxs(d,{children:[e.jsx(i,{md:6,children:e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(n,{icon:v})}),e.jsx(l,{placeholder:"Nom",autoComplete:"nom",value:m,onChange:s=>w(s.target.value)})]})}),e.jsx(i,{md:6,children:e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(n,{icon:v})}),e.jsx(l,{placeholder:"Prénom",autoComplete:"prenom",value:h,onChange:s=>y(s.target.value)})]})})]}),e.jsxs(d,{children:[e.jsx(i,{md:6,children:e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(n,{icon:O})}),e.jsx(l,{placeholder:"Téléphone",autoComplete:"tel",value:u,onChange:s=>N(s.target.value)})]})}),e.jsx(i,{md:6,children:e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:"@"}),e.jsx(l,{placeholder:"Email",autoComplete:"email",value:x,onChange:s=>b(s.target.value)})]})})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(n,{icon:f})}),e.jsx(l,{type:"password",placeholder:"Password",autoComplete:"new-password",value:p,onChange:s=>S(s.target.value)})]}),e.jsxs(t,{className:"mb-4",children:[e.jsx(o,{children:e.jsx(n,{icon:f})}),e.jsx(l,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",value:j,onChange:s=>L(s.target.value)})]}),e.jsx("div",{className:"d-grid",children:e.jsx(G,{type:"submit",color:"success",children:"Create Account"})})]})})})})})})})};export{q as default};
