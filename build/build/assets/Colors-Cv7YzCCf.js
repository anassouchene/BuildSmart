import{r as i,j as t,L as h}from"./index-Dtz4I_N3.js";import{a as d,B as g}from"./config-CrOwxi8G.js";const x=()=>{const[c,l]=i.useState([]);i.useEffect(()=>{(async()=>{try{const s=await d.get(`${g}Immeubles`,{headers:{accept:"text/plain",Authorization:`Bearer ${localStorage.token}`}});l(s.data.$values),console.log(s.data)}catch(s){console.error("Error fetching the immeubles data:",s)}})()},[]);const n=e=>{const a=151.54999999999998,o=433*.65/3;if(e===0)return`0,${433-a},577,433`;{const r=433-a-e*o,m=r+o;return`0,${r},577,${m}`}};return t.jsx("div",{children:c.map(e=>t.jsxs("div",{className:"immeuble-container",children:[t.jsxs("div",{className:"left-section",children:[t.jsx("h1",{className:"liste-titre",children:`Immeuble ${e.id}`}),t.jsxs("div",{className:"immeuble-info",children:[t.jsx("p",{children:`Nombre d'étages: ${e.nbrEtages}`}),t.jsx("p",{children:`Nombre total d'appartements: ${e.nbrAppartements}`})]})]}),t.jsxs("div",{className:"right-section",children:[t.jsx("img",{className:"immeubleDivise",src:"imeuble.png",alt:"immeuble",useMap:`#etagesMap${e.id}`,width:"577",height:"433"}),t.jsx("map",{name:`etagesMap${e.id}`,children:e.etages&&e.etages.$values.map((s,a)=>t.jsx(h,{to:`/etage/${s.id}`,children:t.jsx("area",{shape:"rect",coords:n(a),alt:`Etage ${a+1}`,title:`Étage ${a+1}`})},s.id))})]})]},e.id))})};export{x as default};
