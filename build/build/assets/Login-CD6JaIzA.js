import{r as a,_ as I,R,b as T,c as P,P as j,u as B,j as e,L as g}from"./index-Dtz4I_N3.js";import{a as G,B as U}from"./config-CrOwxi8G.js";import{j as _}from"./index-VWaDGczM.js";import{b as q,c as C,a as d}from"./index.es-B1USpQq9.js";import{C as N,a as m,b as v,c as y,d as f}from"./CRow-wmwwCsaU.js";import{C as b,a as w,b as A,c as F}from"./cil-lock-locked-BLn4mD_7.js";import{c as D}from"./cil-user-Ddrdy7PS.js";var p=a.forwardRef(function(t,c){var o=t.children,l=t.className,n=I(t,["children","className"]);return R.createElement("div",T({className:P("card-group",l)},n,{ref:c}),o)});p.propTypes={children:j.node,className:j.string};p.displayName="CCardGroup";const Q=()=>{const[t,c]=a.useState(""),[o,l]=a.useState(""),[n,S]=a.useState(""),[u,x]=a.useState(""),k=B(),E=async s=>{s.preventDefault();const L={email:o,password:n};try{const r=await G.post(`${U}Account`,L,{headers:{"Content-Type":"application/json"}});if(r.status===200){const i=r.data.data,h=_(i);console.log(h),localStorage.setItem("idUser",h.nameid),c(i),localStorage.setItem("token",i),k("/dashboard")}else x("Une erreur est survenue lors de la connexion"),console.error("Erreur :",r)}catch(r){x(`Erreur : ${r.response.data}`)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(q,{children:e.jsx(N,{className:"justify-content-center",children:e.jsx(m,{md:8,children:e.jsxs(p,{children:[e.jsx(b,{className:"p-4",children:e.jsx(w,{children:e.jsxs(A,{onSubmit:E,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),u&&e.jsx("div",{className:"alert alert-danger",role:"alert",children:u}),e.jsxs(v,{className:"mb-3",children:[e.jsx(y,{children:e.jsx(C,{icon:D})}),e.jsx(f,{placeholder:"Email",autoComplete:"email",value:o,onChange:s=>l(s.target.value),required:!0})]}),e.jsxs(v,{className:"mb-4",children:[e.jsx(y,{children:e.jsx(C,{icon:F})}),e.jsx(f,{type:"password",placeholder:"Password",autoComplete:"current-password",value:n,onChange:s=>S(s.target.value),required:!0})]}),e.jsxs(N,{children:[e.jsx(m,{xs:6,children:e.jsx(d,{type:"submit",color:"primary",className:"px-4",children:"Login"})}),e.jsx(m,{xs:6,className:"text-right",children:e.jsx(g,{to:"/forgotPassword",children:e.jsx(d,{color:"link",className:"px-0",children:"Forgot password?"})})})]})]})})}),e.jsx(b,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(w,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Sign up"}),e.jsx("p",{children:"c'est un site qui vous permettre de bien piloter et superviser votre Appartement m√®me vous etes loin de votre local"}),e.jsx(g,{to:"/register",children:e.jsx(d,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Register Now!"})})]})})})]})})})})})};export{Q as default};
