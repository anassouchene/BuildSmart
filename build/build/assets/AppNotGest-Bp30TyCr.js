import{r as I,j as o,q as Bt}from"./index-Dtz4I_N3.js";import{a as at,B as nt}from"./config-CrOwxi8G.js";import{S as tt}from"./sweetalert2.all-rCSAqTKa.js";import{C as It,T as Pt}from"./Container-DCjkdMuu.js";import{d as S,T as Ct,a as yt,b as Rt,c as rt,e as $t}from"./TableRow-QNjXHaqo.js";import{g as E,a as W,s as L,c as z,_ as n,b as A,u as q,d as U,e as j,f as J,r as Tt,P as Lt}from"./Paper-qxPhMhKx.js";import{L as it,c as Q,u as wt,S as jt,a as lt,I as Mt,i as St}from"./Select-oXAMuveA.js";import{B as gt,u as kt,a as At}from"./ButtonBase-B3uAvr5I.js";import{l as ct,a as dt}from"./listItemTextClasses-CZ8x9uK5.js";import"./useTheme-FR-ZqXOr.js";function zt(t){return W("MuiIconButton",t)}const Nt=E("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),_t=["edge","children","className","color","disabled","disableFocusRipple","size"],Ft=t=>{const{classes:e,disabled:s,color:a,edge:i,size:l}=t,d={root:["root",s&&"disabled",a!=="default"&&`color${z(a)}`,i&&`edge${z(i)}`,`size${z(l)}`]};return J(d,zt,e)},Gt=L(gt,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.color!=="default"&&e[`color${z(s.color)}`],s.edge&&e[`edge${z(s.edge)}`],e[`size${z(s.size)}`]]}})(({theme:t,ownerState:e})=>n({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:A(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var s;const a=(s=(t.vars||t).palette)==null?void 0:s[e.color];return n({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&n({color:a==null?void 0:a.main},!e.disableRipple&&{"&:hover":n({},a&&{backgroundColor:t.vars?`rgba(${a.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:A(a.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Nt.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),K=I.forwardRef(function(e,s){const a=q({props:e,name:"MuiIconButton"}),{edge:i=!1,children:l,className:d,color:f="default",disabled:g=!1,disableFocusRipple:b=!1,size:r="medium"}=a,c=U(a,_t),v=n({},a,{edge:i,color:f,disabled:g,disableFocusRipple:b,size:r}),y=Ft(v);return o.jsx(Gt,n({className:j(y.root,d),centerRipple:!0,focusRipple:!b,disabled:g,ref:s},c,{ownerState:v,children:l}))}),ut=E("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Ot(t){return W("MuiMenuItem",t)}const O=E("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Dt=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Et=(t,e)=>{const{ownerState:s}=t;return[e.root,s.dense&&e.dense,s.divider&&e.divider,!s.disableGutters&&e.gutters]},Ut=t=>{const{disabled:e,dense:s,divider:a,disableGutters:i,selected:l,classes:d}=t,g=J({root:["root",s&&"dense",e&&"disabled",!i&&"gutters",a&&"divider",l&&"selected"]},Ot,d);return n({},d,g)},Ht=L(gt,{shouldForwardProp:t=>Tt(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Et})(({theme:t,ownerState:e})=>n({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:A(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${O.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:A(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${O.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:A(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:A(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${O.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${O.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${ut.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${ut.inset}`]:{marginLeft:52},[`& .${dt.root}`]:{marginTop:0,marginBottom:0},[`& .${dt.inset}`]:{paddingLeft:36},[`& .${ct.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&n({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${ct.root} svg`]:{fontSize:"1.25rem"}}))),Vt=I.forwardRef(function(e,s){const a=q({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:l="li",dense:d=!1,divider:f=!1,disableGutters:g=!1,focusVisibleClassName:b,role:r="menuitem",tabIndex:c,className:v}=a,y=U(a,Dt),x=I.useContext(it),k=I.useMemo(()=>({dense:d||x.dense||!1,disableGutters:g}),[x.dense,d,g]),R=I.useRef(null);kt(()=>{i&&R.current&&R.current.focus()},[i]);const u=n({},a,{dense:k.dense,divider:f,disableGutters:g}),h=Ut(a),$=At(R,s);let w;return a.disabled||(w=c!==void 0?c:-1),o.jsx(it.Provider,{value:k,children:o.jsx(Ht,n({ref:$,role:r,tabIndex:w,component:l,focusVisibleClassName:j(h.focusVisible,b),className:j(h.root,v)},y,{ownerState:u,classes:h}))})}),Kt=Q(o.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Wt=Q(o.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");function qt(t){return W("MuiToolbar",t)}E("MuiToolbar",["root","gutters","regular","dense"]);const Jt=["className","component","disableGutters","variant"],Qt=t=>{const{classes:e,disableGutters:s,variant:a}=t;return J({root:["root",!s&&"gutters",a]},qt,e)},Xt=L("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,!s.disableGutters&&e.gutters,e[s.variant]]}})(({theme:t,ownerState:e})=>n({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Yt=I.forwardRef(function(e,s){const a=q({props:e,name:"MuiToolbar"}),{className:i,component:l="div",disableGutters:d=!1,variant:f="regular"}=a,g=U(a,Jt),b=n({},a,{component:l,disableGutters:d,variant:f}),r=Qt(b);return o.jsx(Xt,n({as:l,className:j(r.root,i),ref:s,ownerState:b},g))}),Zt=Q(o.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),te=Q(o.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),ee=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],oe=I.forwardRef(function(e,s){var a,i,l,d,f,g,b,r;const{backIconButtonProps:c,count:v,disabled:y=!1,getItemAriaLabel:x,nextIconButtonProps:k,onPageChange:R,page:u,rowsPerPage:h,showFirstButton:$,showLastButton:w,slots:T={},slotProps:p={}}=e,X=U(e,ee),m=wt(),Y=M=>{R(M,0)},Z=M=>{R(M,u-1)},N=M=>{R(M,u+1)},B=M=>{R(M,Math.max(0,Math.ceil(v/h)-1))},P=(a=T.firstButton)!=null?a:K,_=(i=T.lastButton)!=null?i:K,F=(l=T.nextButton)!=null?l:K,H=(d=T.previousButton)!=null?d:K,G=(f=T.firstButtonIcon)!=null?f:Kt,V=(g=T.lastButtonIcon)!=null?g:Wt,C=(b=T.nextButtonIcon)!=null?b:te,et=(r=T.previousButtonIcon)!=null?r:Zt,bt=m?_:P,mt=m?F:H,ft=m?H:F,vt=m?P:_,xt=m?p.lastButton:p.firstButton,ot=m?p.nextButton:p.previousButton,st=m?p.previousButton:p.nextButton,ht=m?p.firstButton:p.lastButton;return o.jsxs("div",n({ref:s},X,{children:[$&&o.jsx(bt,n({onClick:Y,disabled:y||u===0,"aria-label":x("first",u),title:x("first",u)},xt,{children:m?o.jsx(V,n({},p.lastButtonIcon)):o.jsx(G,n({},p.firstButtonIcon))})),o.jsx(mt,n({onClick:Z,disabled:y||u===0,color:"inherit","aria-label":x("previous",u),title:x("previous",u)},ot??c,{children:m?o.jsx(C,n({},p.nextButtonIcon)):o.jsx(et,n({},p.previousButtonIcon))})),o.jsx(ft,n({onClick:N,disabled:y||(v!==-1?u>=Math.ceil(v/h)-1:!1),color:"inherit","aria-label":x("next",u),title:x("next",u)},st??k,{children:m?o.jsx(et,n({},p.previousButtonIcon)):o.jsx(C,n({},p.nextButtonIcon))})),w&&o.jsx(vt,n({onClick:B,disabled:y||u>=Math.ceil(v/h)-1,"aria-label":x("last",u),title:x("last",u)},ht,{children:m?o.jsx(G,n({},p.firstButtonIcon)):o.jsx(V,n({},p.lastButtonIcon))}))]}))});function se(t){return W("MuiTablePagination",t)}const D=E("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var pt;const ae=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],ne=L(S,{name:"MuiTablePagination",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}})),re=L(Yt,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,e)=>n({[`& .${D.actions}`]:e.actions},e.toolbar)})(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${D.actions}`]:{flexShrink:0,marginLeft:20}})),ie=L("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})({flex:"1 1 100%"}),le=L("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(t,e)=>e.selectLabel})(({theme:t})=>n({},t.typography.body2,{flexShrink:0})),ce=L(jt,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,e)=>n({[`& .${D.selectIcon}`]:e.selectIcon,[`& .${D.select}`]:e.select},e.input,e.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${D.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),de=L(Vt,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(t,e)=>e.menuItem})({}),ue=L("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(t,e)=>e.displayedRows})(({theme:t})=>n({},t.typography.body2,{flexShrink:0}));function pe({from:t,to:e,count:s}){return`${t}–${e} of ${s!==-1?s:`more than ${e}`}`}function ge(t){return`Go to ${t} page`}const be=t=>{const{classes:e}=t;return J({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},se,e)},me=I.forwardRef(function(e,s){var a;const i=q({props:e,name:"MuiTablePagination"}),{ActionsComponent:l=oe,backIconButtonProps:d,className:f,colSpan:g,component:b=S,count:r,disabled:c=!1,getItemAriaLabel:v=ge,labelDisplayedRows:y=pe,labelRowsPerPage:x="Rows per page:",nextIconButtonProps:k,onPageChange:R,onRowsPerPageChange:u,page:h,rowsPerPage:$,rowsPerPageOptions:w=[10,25,50,100],SelectProps:T={},showFirstButton:p=!1,showLastButton:X=!1,slotProps:m={},slots:Y={}}=i,Z=U(i,ae),N=i,B=be(N),P=(a=m==null?void 0:m.select)!=null?a:T,_=P.native?"option":de;let F;(b===S||b==="td")&&(F=g||1e3);const H=lt(P.id),G=lt(P.labelId),V=()=>r===-1?(h+1)*$:$===-1?r:Math.min(r,(h+1)*$);return o.jsx(ne,n({colSpan:F,ref:s,as:b,ownerState:N,className:j(B.root,f)},Z,{children:o.jsxs(re,{className:B.toolbar,children:[o.jsx(ie,{className:B.spacer}),w.length>1&&o.jsx(le,{className:B.selectLabel,id:G,children:x}),w.length>1&&o.jsx(ce,n({variant:"standard"},!P.variant&&{input:pt||(pt=o.jsx(Mt,{}))},{value:$,onChange:u,id:H,labelId:G},P,{classes:n({},P.classes,{root:j(B.input,B.selectRoot,(P.classes||{}).root),select:j(B.select,(P.classes||{}).select),icon:j(B.selectIcon,(P.classes||{}).icon)}),disabled:c,children:w.map(C=>I.createElement(_,n({},!St(_)&&{ownerState:N},{className:B.menuItem,key:C.label?C.label:C,value:C.value?C.value:C}),C.label?C.label:C))})),o.jsx(ue,{className:B.displayedRows,children:y({from:r===0?0:h*$+1,to:V(),count:r===-1?-1:r,page:h})}),o.jsx(l,{className:B.actions,backIconButtonProps:d,count:r,nextIconButtonProps:k,onPageChange:R,page:h,rowsPerPage:$,showFirstButton:p,showLastButton:X,slotProps:m.actions,slots:Y.actions,getItemAriaLabel:v,disabled:c})]})}))}),$e=()=>{const{email:t}=Bt(),[e,s]=I.useState([]),[a,i]=I.useState(0),[l,d]=I.useState(3);I.useEffect(()=>{(async()=>{try{const c=await at.get(`${nt}Appartements/NotGestionned`,{headers:{accept:"text/plain",Authorization:`Bearer ${localStorage.getItem("token")}`}});Array.isArray(c.data)?s(c.data):c.data&&c.data.$values?s(c.data.$values):s([])}catch(c){console.error("Error fetching appartements:",c)}})()},[t]);const f=async r=>{if((await tt.fire({title:"Confirmation",text:`Êtes-vous sûr de vouloir sélectionner l'appartement ${r} pour ${t} ?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Oui",cancelButtonText:"Non"})).isConfirmed)try{await at.post(`${nt}Attribution`,{email:t,appartementId:r}),await tt.fire({title:"Succès",text:`L'appartement ${r} a été attribué à ${t} avec succès !`,icon:"success"})}catch(v){console.error("Error assigning appartement:",v),await tt.fire({title:"Erreur",text:`Une erreur s'est produite lors de l'attribution de l'appartement ${r} à ${t}.`,icon:"error"})}},g=(r,c)=>{i(c)},b=r=>{d(parseInt(r.target.value,10)),i(0)};return o.jsxs(It,{children:[o.jsx(Pt,{variant:"h4",gutterBottom:!0,children:"Liste des appartements sans gestionnaire"}),o.jsxs(Ct,{component:Lt,children:[o.jsxs(yt,{children:[o.jsx(Rt,{children:o.jsxs(rt,{children:[o.jsx(S,{children:"ID"}),o.jsx(S,{children:"Image"})]})}),o.jsx($t,{children:e.slice(a*l,a*l+l).map(r=>o.jsxs(rt,{children:[o.jsx(S,{children:r.id}),o.jsx(S,{children:o.jsx("img",{src:"appartement.png",alt:`Appartement ${r.id}`,style:{width:"150px",height:"auto",cursor:"pointer"},onClick:()=>f(r.id)})})]},r.id))})]}),o.jsx(me,{rowsPerPageOptions:[3,5,10],component:"div",count:e.length,rowsPerPage:l,page:a,onPageChange:g,onRowsPerPageChange:b})]})]})};export{$e as default};
